<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Suggest the the closest elements from a string vector — suggest_item • dreamerr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Suggest the the closest elements from a string vector — suggest_item"><meta property="og:description" content="Compares a character scalar to the elements from a character vector and
returns the elements that are the closest to the input."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dreamerr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/dreamerr_introduction.html">dreamerr: Error Handling Made Easy</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lrberge/dreamerr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Suggest the the closest elements from a string vector</h1>
    <small class="dont-index">Source: <a href="https://github.com/lrberge/dreamerr/blob/HEAD/R/misc_funs.R" class="external-link"><code>R/misc_funs.R</code></a></small>
    <div class="hidden name"><code>suggest_item.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compares a character scalar to the elements from a character vector and
returns the elements that are the closest to the input.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">suggest_item</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">items</span>,</span>
<span>  msg.write <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  msg.newline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  msg.item <span class="op">=</span> <span class="st">"variable"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>Character scalar, must be provided. This reference will be compared
to the elements of the string vector in the argument <code>items</code>.</p></dd>


<dt>items</dt>
<dd><p>Character vector, must be provided. Elements to which the value in
argument <code>x</code> will be compared.</p></dd>


<dt>msg.write</dt>
<dd><p>Logical scalar, default is <code>FALSE</code>. If <code>TRUE</code>, a message is returned,
equal to <code>"Maybe you meant {enum.bq.or ? matches}?"</code> (see <a href="https://lrberge.github.io/stringmagic/articles/guide_string_magic.html" class="external-link">stringmagic</a>
for information on the interpolation) if there were matches. If no matches were found,
the message is <code>"FYI the {msg.item}{$s, are, enum.bq ? items}."</code>.</p></dd>


<dt>msg.newline</dt>
<dd><p>Logical scalar, default is <code>TRUE</code>. Only used if <code>msg.write = TRUE</code>.
Whether to add a new line just before the message.</p></dd>


<dt>msg.item</dt>
<dd><p>Character scalar, default is <code>"variable"</code>. Only used if <code>msg.write = TRUE</code>.
What does the <code>items</code> represent?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>It returns a vector of matches. If no matches were found</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is useful when used internally to guide the user to relevant choices.</p>
<p>The choices to which the user is guided are in decreasing quality. First light mispells
are checked. Then more important mispells. Finally very important mispells. Completely
off potential matches are not reported.</p>
<p>If the argument <code>msg.write</code> is <code>TRUE</code>, then a character scalar is returned containing
a message suggesting the matches.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># function reporting the sum of a variable</span></span></span>
<span class="r-in"><span><span class="va">sum_var</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">var</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># var: a variable name, should be part of data</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="va">var</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">suggestion</span> <span class="op">=</span> <span class="fu">suggest_item</span><span class="op">(</span><span class="va">var</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, msg.write <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="stop_up.html">stopi</a></span><span class="op">(</span><span class="st">"The variable `{var}` is not in the data set. {suggestion}"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The error message guides us to a suggestion</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">sum_var</span><span class="op">(</span><span class="va">iris</span>, <span class="st">"Petal.Le"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error : the full stack is shown (set this off with setDreamerr_show_stack(FALSE))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [01] tryCatch(withCallingHandlers({</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [02] tryCatchList(expr, classes, parentenv, handlers)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [03] tryCatchOne(tryCatchList(expr, names[-nh], parentenv, handlers[-nh]), names[nh], parentenv, handlers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [04] doTryCatch(return(expr), name, parentenv, handler)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [05] tryCatchList(expr, names[-nh], parentenv, handlers[-nh])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [06] tryCatchOne(expr, names, parentenv, handlers[[1L]])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [07] doTryCatch(return(expr), name, parentenv, handler)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [08] withCallingHandlers({</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [09] saveRDS(do.call(do.call, c(readRDS("C:\\Users\\berge028\\AppData\\Local\\Temp\\RtmpwJgqni\\callr-fun...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] do.call(do.call, c(readRDS("C:\\Users\\berge028\\AppData\\Local\\Temp\\RtmpwJgqni\\callr-fun-307866b...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] (function (what, args, quote = FALSE, envir = parent.frame()) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12] (function (..., cli_colors, pkgdown_internet) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] pkgdown::build_site(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14] build_site_local(pkg = pkg, examples = examples, run_dont_run = run_dont_run, seed = seed, lazy = la...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] build_reference(pkg, lazy = lazy, examples = examples, run_dont_run = run_dont_run, seed = seed, ove...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] purrr::map(topics, build_reference_topic, pkg = pkg, lazy = lazy, examples_env = examples_env, run_d...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] map_("list", .x, .f, ..., .progress = .progress)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [18] with_indexed_errors(i = i, names = names, error_call = .purrr_error_call, call_with_cleanup(map_impl...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] withCallingHandlers(expr, error = function(cnd) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] call_with_cleanup(map_impl, environment(), .type, .progress, n, names, i)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] .f(.x[[i]], ...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] withCallingHandlers(data_reference_topic(topic, pkg, examples_env = examples_env, run_dont_run = run...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [23] data_reference_topic(topic, pkg, examples_env = examples_env, run_dont_run = run_dont_run)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [24] run_examples(tags$tag_examples[[1]], env = if (is.null(examples_env)) NULL else new.env(parent = exa...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] highlight_examples(code, topic, env = env)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] downlit::evaluate_and_highlight(code, fig_save = fig_save_topic, env = child_env(env), output_handle...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [27] evaluate::evaluate(code, child_env(env), new_device = TRUE, output_handler = output_handler)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [28] evaluate_call(expr, parsed$src[[i]], envir = envir, enclos = enclos, debug = debug, last = i == leng...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] timing_fn(handle(ev &lt;- withCallingHandlers(withVisible(eval_with_user_handlers(expr, envir, enclos, ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [30] handle(ev &lt;- withCallingHandlers(withVisible(eval_with_user_handlers(expr, envir, enclos, user_handl...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] try(f, silent = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [32] tryCatch(expr, error = function(e) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [33] tryCatchList(expr, classes, parentenv, handlers)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [34] tryCatchOne(expr, names, parentenv, handlers[[1L]])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [35] doTryCatch(return(expr), name, parentenv, handler)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] withCallingHandlers(withVisible(eval_with_user_handlers(expr, envir, enclos, user_handlers)), warnin...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] withVisible(eval_with_user_handlers(expr, envir, enclos, user_handlers))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [38] eval_with_user_handlers(expr, envir, enclos, user_handlers)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [39] eval(expr, envir, enclos)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [40] eval(expr, envir, enclos)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41] try(sum_var(iris, "Petal.Le"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [42] tryCatch(expr, error = function(e) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] tryCatchList(expr, classes, parentenv, handlers)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [44] tryCatchOne(expr, names, parentenv, handlers[[1L]])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [45] doTryCatch(return(expr), name, parentenv, handler)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46] sum_var(iris, "Petal.Le")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [47] stopi("The variable `{var}` is not in the data set. {suggestion}")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [48] stop_up(..., up = 1, envir = envir, verbatim = FALSE): </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The variable `Petal.Le` is not in the data set. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maybe you meant `Petal.Length`?</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

